{"remainingRequest":"/Users/kazuki/Developments/Leaves/leaves/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kazuki/Developments/Leaves/leaves/frontend/src/views/Primer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kazuki/Developments/Leaves/leaves/frontend/src/views/Primer.vue","mtime":1598681683559},{"path":"/Users/kazuki/Developments/Leaves/leaves/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kazuki/Developments/Leaves/leaves/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kazuki/Developments/Leaves/leaves/frontend/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/kazuki/Developments/Leaves/leaves/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kazuki/Developments/Leaves/leaves/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCmltcG9ydCBTZXFGaWVsZCBmcm9tICcuLi9jb21wb25lbnRzL1NlcUZpZWxkJwppbXBvcnQgU2VxTGVuZ3RoRmllbGQgZnJvbSAnLi4vY29tcG9uZW50cy9QcmltZXIvU2VxTGVuZ3RoRmllbGQnCmltcG9ydCBDb25kaXRpb25zIGZyb20gJy4uL2NvbXBvbmVudHMvUHJpbWVyL0NvbmRpdGlvbnMnCmltcG9ydCBCbGFzdERpYWxvZyBmcm9tICcuLi9jb21wb25lbnRzL1ByaW1lci9CbGFzdERpYWxvZycKaW1wb3J0IERldGFpbERpYWxvZyBmcm9tICdAL2NvbXBvbmVudHMvUHJpbWVyL0RldGFpbERpYWxvZycKaW1wb3J0IEZvcm1CdXR0b25zIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybUJ1dHRvbnMnCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgU2VxRmllbGQsCiAgICBTZXFMZW5ndGhGaWVsZCwKICAgIENvbmRpdGlvbnMsCiAgICBGb3JtQnV0dG9ucywKICAgIEJsYXN0RGlhbG9nLAogICAgRGV0YWlsRGlhbG9nCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByaW1lcjogewogICAgICAgIGlucHV0X3NlcTogJycsCiAgICAgICAgZnJhZ19sZW5ndGg6IDIyLAogICAgICAgIGNvbmRpdGlvbnM6ICcnLAogICAgICAgIGNnX2NsYW1wOiBmYWxzZSwKICAgICAgICBzZWxmX2NvbXA6IGZhbHNlCiAgICAgIH0sCiAgICAgIGhlYWRlcnM6IFsKICAgICAgICB7IHRleHQ6ICJGcmFnbWVudCAoNSctPiAzJykiLCBhbGlnbjogJ3N0YXJ0Jywgc29ydGFibGU6IGZhbHNlLCB2YWx1ZTogJ2ZyYWdtZW50JyB9LAogICAgICAgIHsgdGV4dDogJ0JyZXNsYXVlciAo4oSDKScsIHZhbHVlOiAnYnJlc2xhdWVyJywgYWxpZ246ICdlbmQnIH0sCiAgICAgICAgeyB0ZXh0OiAnQ0cgY29udGVudCAoJSknLCB2YWx1ZTogJ2NnX2NvbnRlbnQnLCBhbGlnbjogJ2VuZCcgfSwKICAgICAgICB7IHRleHQ6ICdIb21vbG9neSAobm9zKScsIHZhbHVlOiAnaG9tb2xvZ3knLCBhbGlnbjogJ2VuZCcgfSwKICAgICAgICB7IHRleHQ6ICdBY3Rpb25zJywgdmFsdWU6ICdhY3Rpb25zJywgc29ydGFibGU6IGZhbHNlLCBhbGlnbjogJ2NlbnRlcicgfQogICAgICBdLAogICAgICB2aXN1YWw6IHRydWUsCiAgICAgIGJsYXN0UmVzdWx0OiAnJywKICAgICAgYmxhc3REaWFsb2c6IGZhbHNlLAogICAgICBlZGl0UmVzdWx0OiAnJywKICAgICAgZWRpdERpYWxvZzogZmFsc2UsCiAgICAgIGRldGFpbERpYWxvZzogZmFsc2UsCiAgICAgIHNlbGVjdGVkTGluZTogJycsCgogICAgICBzZWFyY2g6ICcnLAogICAgICBpc1JlbW92ZTogdHJ1ZSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGRpc2FibGVkOiBmYWxzZSwKCiAgICAgIHRhYjogZmFsc2UsCiAgICAgIGZvcndhcmQ6ICcnLAogICAgICByZXZlcnNlOiAnJywKICAgICAgdGFiRGlzYWJsZWQ6IGZhbHNlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMucHJpbWVyLmlucHV0X3NlcS5sZW5ndGggIT09IDAgJiYgdGhpcy5wcmltZXIuZnJhZ19sZW5ndGgubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgaWYgKHRoaXMuaXNSZW1vdmUgJiYgdGhpcy5wcmltZXIuY29uZGl0aW9ucy5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHRoaXMucHJpbWVyLmNvbmRpdGlvbnMgPQogICAgICAgICAgICAnYnJlc2xhdWVyID49IDU3OyBicmVzbGF1ZXIgPCA2NTsgY2dfY29udGVudCA8PSA0NTsgY2dfY29udGVudCA+IDM1OyBob21vbG9neSA8PSAxNTsgaG9tb2xvZ3kgPiAwOycKICAgICAgICB9CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAgIGF4aW9zLnBvc3QoJy9hcGkvcHJpbWVyJywgdGhpcy5wcmltZXIpCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMudmlzdWFsID0gdHJ1ZQogICAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhyZXN1bHQpLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgIHRoaXMuZm9yd2FyZCA9IHJlc3VsdFsnZm9yd2FyZCddCiAgICAgICAgICAgICAgdGhpcy5yZXZlcnNlID0gcmVzdWx0WydyZXZlcnNlJ10KICAgICAgICAgICAgICB0aGlzLnRhYkRpc2FibGVkID0gZmFsc2UKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmZvcndhcmQgPSByZXN1bHQKICAgICAgICAgICAgICB0aGlzLnRhYiA9ICdGb3J3YXJkJwogICAgICAgICAgICAgIHRoaXMudGFiRGlzYWJsZWQgPSB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhKQogICAgICAgICAgfSkKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydCgnUGxlYXNlIGZpbGwgc2VxdWVuY2UgYW5kIGZyYWcgbGVuZ3RoIGZvcm0uJykKICAgICAgfQogICAgfSwKICAgIGJsYXN0KGl0ZW0pIHsKICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICBpbnB1dFNlcTogaXRlbS5mcmFnbWVudCwKICAgICAgICBkYjogJ1RBSVIxMF9XaG9sZV9HZW5vbWUnCiAgICAgIH0KICAgICAgYXhpb3MucG9zdCgnL2FwaS9ibGFzdCcsIGRhdGEpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy5ibGFzdFJlc3VsdCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgY29uc29sZS5sb2coJ1ByaW1lciBBUEkgQmxhc3QgZXJyb3I6JywgZXJyb3IpCiAgICAgICAgfSkKICAgIH0sCiAgICBkZXRhaWxWaWV3KGl0ZW0pIHsKICAgICAgdGhpcy5zZWxlY3RlZExpbmUgPSBpdGVtCiAgICAgIHRoaXMuZGV0YWlsRGlhbG9nID0gdHJ1ZQogICAgfSwKICAgIGNsZWFyKCkgewogICAgICB0aGlzLnByaW1lci5pbnB1dF9zZXEgPSAnJwogICAgICB0aGlzLnByaW1lci5mcmFnX2xlbmd0aCA9IDIyCiAgICAgIHRoaXMucHJpbWVyLmNvbmRpdGlvbnMgPSAnJwogICAgICB0aGlzLmlzUmVtb3ZlID0gdHJ1ZQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGF4aW9zLmdldCgnL2FwaS9ibGFzdCcpCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zdCBqdWRnZSA9IHJlc3BvbnNlLmRhdGFbJ3VzYWJsZSddCiAgICAgICAgaWYgKCFqdWRnZSkgewogICAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRydWUKICAgICAgICB9CiAgICAgIH0pCiAgfQp9Cg=="},{"version":3,"sources":["Primer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2KA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Primer.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"primer\">\n    <!---Form--->\n    <v-row justify=\"center\">\n      <v-col cols=\"12\" sm=\"4\">\n        <SeqField\n          v-model=\"primer.input_seq\"\n          custom-label=\"Query sequence\"\n          :custom-rows=\"9\"\n        />\n        <SeqLengthField\n          v-model=\"primer.frag_length\"\n        />\n        <v-divider></v-divider>\n        <!--- Option --->\n        <div style=\"padding: 0 10px 0 10px\">\n          <v-row>\n            <v-col>\n              <v-checkbox\n                v-model=\"primer.cg_clamp\"\n                label=\"CG CLAMP\"\n                color=\"#00C853\"\n                hide-details\n              />\n            </v-col>\n            <v-col>\n              <v-checkbox\n                v-model=\"primer.self_comp\"\n                label=\"SELF COMP\"\n                color=\"#00C853\"\n                hide-details\n              />\n            </v-col>\n          </v-row>\n          <v-checkbox\n            v-model=\"isRemove\"\n            color=\"#00C853\"\n            label=\"Exclude unsuitable primers\"\n          />\n          <Conditions\n            v-model=\"primer.conditions\"\n          />\n        </div>\n        <FormButtons @clear=\"clear\" @submit=\"submit\"/>\n      </v-col>\n      <!---DataTable-->\n      <v-col cols=\"7\" sm=\"7\">\n        <v-card max-height=\"1400\" max-width=\"1000\">\n          <div v-if=\"visual\">\n            <v-tabs\n              v-model=\"tab\"\n              color=\"success\"\n              background-color=\"#424242\"\n            >\n              <v-tabs-slider color=\"success\"></v-tabs-slider>\n              <v-tab>Forward</v-tab>\n              <v-tab :disabled=\"tabDisabled\">Reverse</v-tab>\n            </v-tabs>\n            <v-tabs-items\n              v-model=\"tab\"\n            >\n              <v-tab-item>\n                <v-card-title>\n                  Result\n                  <v-spacer></v-spacer>\n                  <v-text-field\n                    v-model=\"search\"\n                    append-icon=\"mdi-magnify\"\n                    label=\"Search\"\n                    single-line\n                    hide-details\n                  >\n                  </v-text-field>\n                </v-card-title>\n                <v-card-text>\n                  <v-data-table\n                    :search=\"search\"\n                    :headers=\"headers\"\n                    :items=\"forward\"\n                    item-key=\"Fragment\"\n                    :sort-by=\"['breslauer']\"\n                    :sort-desc=\"[true]\"\n                    :loading=\"loading\"\n                    @click:row=\"detailView\"\n                    >\n                    <template>\n                      <v-data-table\n                        item-key=\"name\"\n                        class=\"elevation-1\"\n                        loading\n                        loading-text=\"Loading... Please wait\"\n                      ></v-data-table>\n                    </template>\n                    <template v-slot:item.actions=\"{item}\">\n                      <v-icon\n                        class=\"ma-1\"\n                        @click=\"blast(item)\"\n                        @click.stop=\"blastDialog=true\"\n                        :disabled=\"disabled\"\n                      >mdi-database-search</v-icon>\n                    </template>\n                  </v-data-table>\n                </v-card-text>\n              </v-tab-item>\n              <v-tab-item>\n                <v-card-title>\n                  Result\n                  <v-spacer></v-spacer>\n                  <v-text-field\n                    v-model=\"search\"\n                    append-icon=\"mdi-magnify\"\n                    label=\"Search\"\n                    single-line\n                    hide-details\n                  >\n                  </v-text-field>\n                </v-card-title>\n                <v-card-text>\n                  <v-data-table\n                    :search=\"search\"\n                    :headers=\"headers\"\n                    :items=\"reverse\"\n                    item-key=\"Fragment\"\n                    :sort-by=\"['breslauer']\"\n                    :sort-desc=\"[true]\"\n                    :loading=\"loading\"\n                    @click:row=\"detailView\"\n                  >\n                    <template>\n                      <v-data-table\n                        item-key=\"name\"\n                        class=\"elevation-1\"\n                        loading\n                        loading-text=\"Loading... Please wait\"\n                      ></v-data-table>\n                    </template>\n                    <template v-slot:item.actions=\"{item}\">\n                      <v-icon\n                        class=\"ma-1\"\n                        @click=\"blast(item)\"\n                        @click.stop=\"blastDialog=true\"\n                        :disabled=\"disabled\"\n                      >mdi-database-search\n                      </v-icon>\n                    </template>\n                  </v-data-table>\n                </v-card-text>\n              </v-tab-item>\n            </v-tabs-items>\n          </div>\n        </v-card>\n      </v-col>\n    </v-row>\n    <!--- Dialog -->\n    <BlastDialog\n      v-model=\"blastDialog\"\n      :blast-result=\"blastResult\"\n    />\n    <DetailDialog\n      v-model=\"detailDialog\"\n      :fragment=\"selectedLine['fragment']\"\n      :revcomp=\"selectedLine['rev_comp']\"\n      :breslauer=\"selectedLine['breslauer']\"\n      :santalucia=\"selectedLine['santalucia']\"\n      :cg_content=\"selectedLine['cg_content']\"\n      :homology=\"selectedLine['homology']\"\n      :position=\"selectedLine['position']\"\n    />\n  </div>\n</template>\n<script>\nimport axios from 'axios'\n\nimport SeqField from '../components/SeqField'\nimport SeqLengthField from '../components/Primer/SeqLengthField'\nimport Conditions from '../components/Primer/Conditions'\nimport BlastDialog from '../components/Primer/BlastDialog'\nimport DetailDialog from '@/components/Primer/DetailDialog'\nimport FormButtons from '../components/FormButtons'\n\nexport default {\n  components: {\n    SeqField,\n    SeqLengthField,\n    Conditions,\n    FormButtons,\n    BlastDialog,\n    DetailDialog\n  },\n\n  data() {\n    return {\n      primer: {\n        input_seq: '',\n        frag_length: 22,\n        conditions: '',\n        cg_clamp: false,\n        self_comp: false\n      },\n      headers: [\n        { text: \"Fragment (5'-> 3')\", align: 'start', sortable: false, value: 'fragment' },\n        { text: 'Breslauer (â„ƒ)', value: 'breslauer', align: 'end' },\n        { text: 'CG content (%)', value: 'cg_content', align: 'end' },\n        { text: 'Homology (nos)', value: 'homology', align: 'end' },\n        { text: 'Actions', value: 'actions', sortable: false, align: 'center' }\n      ],\n      visual: true,\n      blastResult: '',\n      blastDialog: false,\n      editResult: '',\n      editDialog: false,\n      detailDialog: false,\n      selectedLine: '',\n\n      search: '',\n      isRemove: true,\n      loading: false,\n      disabled: false,\n\n      tab: false,\n      forward: '',\n      reverse: '',\n      tabDisabled: false\n    }\n  },\n  methods: {\n    submit: function () {\n      if (this.primer.input_seq.length !== 0 && this.primer.frag_length.length !== 0) {\n        if (this.isRemove && this.primer.conditions.length === 0) {\n          this.primer.conditions =\n            'breslauer >= 57; breslauer < 65; cg_content <= 45; cg_content > 35; homology <= 15; homology > 0;'\n        }\n        this.loading = true\n        axios.post('/api/primer', this.primer)\n          .then(response => {\n            this.loading = false\n            this.visual = true\n            const result = response.data\n            if (Object.keys(result).length === 2) {\n              this.forward = result['forward']\n              this.reverse = result['reverse']\n              this.tabDisabled = false\n            } else {\n              this.forward = result\n              this.tab = 'Forward'\n              this.tabDisabled = true\n            }\n          })\n          .catch(error => {\n            console.log(error.response.data)\n          })\n      } else {\n        alert('Please fill sequence and frag length form.')\n      }\n    },\n    blast(item) {\n      const data = {\n        inputSeq: item.fragment,\n        db: 'TAIR10_Whole_Genome'\n      }\n      axios.post('/api/blast', data)\n        .then(response => {\n          this.blastResult = response.data.result\n        })\n        .catch(error => {\n          console.log('Primer API Blast error:', error)\n        })\n    },\n    detailView(item) {\n      this.selectedLine = item\n      this.detailDialog = true\n    },\n    clear() {\n      this.primer.input_seq = ''\n      this.primer.frag_length = 22\n      this.primer.conditions = ''\n      this.isRemove = true\n    }\n  },\n  mounted() {\n    axios.get('/api/blast')\n      .then(response => {\n        const judge = response.data['usable']\n        if (!judge) {\n          this.disabled = true\n        }\n      })\n  }\n}\n</script>\n"]}]}
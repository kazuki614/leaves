{"remainingRequest":"/Users/kazuki/Developments/Leaves/leaves/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kazuki/Developments/Leaves/leaves/frontend/src/views/Primer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kazuki/Developments/Leaves/leaves/frontend/src/views/Primer.vue","mtime":1599403607065},{"path":"/Users/kazuki/Developments/Leaves/leaves/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/kazuki/Developments/Leaves/leaves/frontend/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/kazuki/Developments/Leaves/leaves/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kazuki/Developments/Leaves/leaves/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCmltcG9ydCBTZXFGaWVsZCBmcm9tICcuLi9jb21wb25lbnRzL1NlcUZpZWxkJwppbXBvcnQgU2VxTGVuZ3RoRmllbGQgZnJvbSAnLi4vY29tcG9uZW50cy9QcmltZXIvU2VxTGVuZ3RoRmllbGQnCmltcG9ydCBDb25kaXRpb25zIGZyb20gJy4uL2NvbXBvbmVudHMvUHJpbWVyL0NvbmRpdGlvbnMnCmltcG9ydCBCbGFzdERpYWxvZyBmcm9tICcuLi9jb21wb25lbnRzL1ByaW1lci9CbGFzdERpYWxvZycKaW1wb3J0IERldGFpbERpYWxvZyBmcm9tICcuLi9jb21wb25lbnRzL1ByaW1lci9EZXRhaWxEaWFsb2cnCmltcG9ydCBGb3JtQnV0dG9ucyBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1CdXR0b25zJwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFNlcUZpZWxkLAogICAgU2VxTGVuZ3RoRmllbGQsCiAgICBDb25kaXRpb25zLAogICAgRm9ybUJ1dHRvbnMsCiAgICBCbGFzdERpYWxvZywKICAgIERldGFpbERpYWxvZwogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcmltZXI6IHsKICAgICAgICBpbnB1dF9zZXE6ICcnLAogICAgICAgIGZyYWdfbGVuZ3RoOiAyMiwKICAgICAgICBjb25kaXRpb25zOiAnJywKICAgICAgICBjZ19jbGFtcDogZmFsc2UsCiAgICAgICAgc2VsZl9jb21wOiBmYWxzZQogICAgICB9LAogICAgICBoZWFkZXJzOiBbCiAgICAgICAgeyB0ZXh0OiAiRnJhZ21lbnQgKDUnLT4gMycpIiwgYWxpZ246ICdzdGFydCcsIHNvcnRhYmxlOiBmYWxzZSwgdmFsdWU6ICdmcmFnbWVudCcgfSwKICAgICAgICB7IHRleHQ6ICdCcmVzbGF1ZXIgKOKEgyknLCB2YWx1ZTogJ2JyZXNsYXVlcicsIGFsaWduOiAnZW5kJyB9LAogICAgICAgIHsgdGV4dDogJ0NHIGNvbnRlbnQgKCUpJywgdmFsdWU6ICdjZ19jb250ZW50JywgYWxpZ246ICdlbmQnIH0sCiAgICAgICAgeyB0ZXh0OiAnSG9tb2xvZ3kgKG5vcyknLCB2YWx1ZTogJ2hvbW9sb2d5JywgYWxpZ246ICdlbmQnIH0sCiAgICAgICAgeyB0ZXh0OiAnQWN0aW9ucycsIHZhbHVlOiAnYWN0aW9ucycsIHNvcnRhYmxlOiBmYWxzZSwgYWxpZ246ICdjZW50ZXInIH0KICAgICAgXSwKICAgICAgdmlzdWFsOiBmYWxzZSwKICAgICAgYmxhc3RSZXN1bHQ6ICcnLAogICAgICBibGFzdERpYWxvZzogZmFsc2UsCiAgICAgIGVkaXRSZXN1bHQ6ICcnLAogICAgICBlZGl0RGlhbG9nOiBmYWxzZSwKICAgICAgZGV0YWlsRGlhbG9nOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRMaW5lOiAnJywKCiAgICAgIHNlYXJjaDogJycsCiAgICAgIGlzUmVtb3ZlOiB0cnVlLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZGlzYWJsZWQ6IGZhbHNlLAoKICAgICAgdGFiOiBmYWxzZSwKICAgICAgZm9yd2FyZDogJycsCiAgICAgIHJldmVyc2U6ICcnLAogICAgICB0YWJEaXNhYmxlZDogZmFsc2UKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdDogZnVuY3Rpb24gKCkgewogICAgICBpZiAodGhpcy5wcmltZXIuaW5wdXRfc2VxLmxlbmd0aCAhPT0gMCAmJiB0aGlzLnByaW1lci5mcmFnX2xlbmd0aC5sZW5ndGggIT09IDApIHsKICAgICAgICBpZiAodGhpcy5pc1JlbW92ZSAmJiB0aGlzLnByaW1lci5jb25kaXRpb25zLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgdGhpcy5wcmltZXIuY29uZGl0aW9ucyA9CiAgICAgICAgICAgICdicmVzbGF1ZXIgPj0gNTc7IGJyZXNsYXVlciA8IDY1OyBjZ19jb250ZW50IDw9IDQ1OyBjZ19jb250ZW50ID4gMzU7IGhvbW9sb2d5IDw9IDE1OyBob21vbG9neSA+IDA7JwogICAgICAgIH0KICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgYXhpb3MucG9zdCgnL2FwaS9wcmltZXInLCB0aGlzLnByaW1lcikKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgdGhpcy52aXN1YWwgPSB0cnVlCiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlc3VsdCkubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgdGhpcy5mb3J3YXJkID0gcmVzdWx0Wydmb3J3YXJkJ10KICAgICAgICAgICAgICB0aGlzLnJldmVyc2UgPSByZXN1bHRbJ3JldmVyc2UnXQogICAgICAgICAgICAgIHRoaXMudGFiRGlzYWJsZWQgPSBmYWxzZQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuZm9yd2FyZCA9IHJlc3VsdAogICAgICAgICAgICAgIHRoaXMudGFiID0gJ0ZvcndhcmQnCiAgICAgICAgICAgICAgdGhpcy50YWJEaXNhYmxlZCA9IHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEpCiAgICAgICAgICB9KQogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCdQbGVhc2UgZmlsbCBzZXF1ZW5jZSBhbmQgZnJhZyBsZW5ndGggZm9ybS4nKQogICAgICB9CiAgICB9LAogICAgYmxhc3QoaXRlbSkgewogICAgICBjb25zdCBkYXRhID0gewogICAgICAgIGlucHV0U2VxOiBpdGVtLmZyYWdtZW50LAogICAgICAgIGRiOiAnVEFJUjEwX1dob2xlX0dlbm9tZScKICAgICAgfQogICAgICBheGlvcy5wb3N0KCcvYXBpL2JsYXN0JywgZGF0YSkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLmJsYXN0UmVzdWx0ID0gcmVzcG9uc2UuZGF0YS5yZXN1bHQKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygnUHJpbWVyIEFQSSBCbGFzdCBlcnJvcjonLCBlcnJvcikKICAgICAgICB9KQogICAgfSwKICAgIGRldGFpbFZpZXcoaXRlbSkgewogICAgICB0aGlzLnNlbGVjdGVkTGluZSA9IGl0ZW0KICAgICAgdGhpcy5kZXRhaWxEaWFsb2cgPSB0cnVlCiAgICB9LAogICAgY2xlYXIoKSB7CiAgICAgIHRoaXMucHJpbWVyLmlucHV0X3NlcSA9ICcnCiAgICAgIHRoaXMucHJpbWVyLmZyYWdfbGVuZ3RoID0gMjIKICAgICAgdGhpcy5wcmltZXIuY29uZGl0aW9ucyA9ICcnCiAgICAgIHRoaXMuaXNSZW1vdmUgPSB0cnVlCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgYXhpb3MuZ2V0KCcvYXBpL2JsYXN0JykKICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGNvbnN0IGp1ZGdlID0gcmVzcG9uc2UuZGF0YVsndXNhYmxlJ10KICAgICAgICBpZiAoIWp1ZGdlKSB7CiAgICAgICAgICB0aGlzLmRpc2FibGVkID0gdHJ1ZQogICAgICAgIH0KICAgICAgfSkKICB9Cn0K"},{"version":3,"sources":["Primer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Primer.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"primer\">\n    <!---Form--->\n    <v-row justify=\"center\">\n      <v-col cols=\"12\" sm=\"4\">\n        <SeqField\n          v-model=\"primer.input_seq\"\n          custom-label=\"Query sequence\"\n          :custom-rows=\"9\"\n        />\n        <SeqLengthField\n          v-model=\"primer.frag_length\"\n        />\n        <v-divider></v-divider>\n        <!--- Option --->\n        <div style=\"padding: 0 10px 0 10px\">\n          <v-row>\n            <v-col>\n              <v-checkbox\n                v-model=\"primer.cg_clamp\"\n                label=\"CG CLAMP\"\n                color=\"#00C853\"\n                hide-details\n              />\n            </v-col>\n            <v-col>\n              <v-checkbox\n                v-model=\"primer.self_comp\"\n                label=\"SELF COMP\"\n                color=\"#00C853\"\n                hide-details\n              />\n            </v-col>\n          </v-row>\n          <v-checkbox\n            v-model=\"isRemove\"\n            color=\"#00C853\"\n            label=\"Exclude unsuitable primers\"\n          />\n          <Conditions\n            v-model=\"primer.conditions\"\n          />\n        </div>\n        <FormButtons @clear=\"clear\" @submit=\"submit\"/>\n      </v-col>\n      <!---DataTable-->\n      <!--- TODO DataTable to Component-->\n      <v-col cols=\"7\" sm=\"7\">\n        <v-card max-height=\"1400\" max-width=\"1000\">\n          <div v-if=\"visual\">\n            <v-tabs\n              v-model=\"tab\"\n              color=\"success\"\n              background-color=\"#424242\"\n            >\n              <v-tabs-slider color=\"success\"></v-tabs-slider>\n              <v-tab>Forward</v-tab>\n              <v-tab :disabled=\"tabDisabled\">Reverse</v-tab>\n            </v-tabs>\n            <v-tabs-items\n              v-model=\"tab\"\n            >\n              <v-tab-item>\n                <v-card-title>\n                  <v-spacer></v-spacer>\n                  <v-text-field\n                    v-model=\"search\"\n                    append-icon=\"mdi-magnify\"\n                    label=\"Search\"\n                    single-line\n                    hide-details\n                  >\n                  </v-text-field>\n                </v-card-title>\n                <v-card-text>\n                  <v-data-table\n                    :search=\"search\"\n                    :headers=\"headers\"\n                    :items=\"forward\"\n                    item-key=\"Fragment\"\n                    :sort-by=\"['breslauer']\"\n                    :sort-desc=\"[true]\"\n                    :loading=\"loading\"\n                    @click:row=\"detailView\"\n                    >\n                    <template>\n                      <v-data-table\n                        item-key=\"name\"\n                        class=\"elevation-1\"\n                        loading\n                        loading-text=\"Loading... Please wait\"\n                      ></v-data-table>\n                    </template>\n                    <template v-slot:item.actions=\"{item}\">\n                      <v-icon\n                        class=\"ma-1\"\n                        @click=\"blast(item)\"\n                        @click.stop=\"blastDialog=true\"\n                        :disabled=\"disabled\"\n                      >mdi-database-search</v-icon>\n                    </template>\n                  </v-data-table>\n                </v-card-text>\n              </v-tab-item>\n              <v-tab-item>\n                <v-card-title>\n                  <v-spacer></v-spacer>\n                  <v-text-field\n                    v-model=\"search\"\n                    append-icon=\"mdi-magnify\"\n                    label=\"Search\"\n                    single-line\n                    hide-details\n                  >\n                  </v-text-field>\n                </v-card-title>\n                <v-card-text>\n                  <v-data-table\n                    :search=\"search\"\n                    :headers=\"headers\"\n                    :items=\"reverse\"\n                    item-key=\"Fragment\"\n                    :sort-by=\"['breslauer']\"\n                    :sort-desc=\"[true]\"\n                    :loading=\"loading\"\n                    @click:row=\"detailView\"\n                  >\n                    <template>\n                      <v-data-table\n                        item-key=\"name\"\n                        class=\"elevation-1\"\n                        loading\n                        loading-text=\"Loading... Please wait\"\n                      ></v-data-table>\n                    </template>\n                    <template v-slot:item.actions=\"{item}\">\n                      <v-icon\n                        class=\"ma-1\"\n                        @click=\"blast(item)\"\n                        @click.stop=\"blastDialog=true\"\n                        :disabled=\"disabled\"\n                      >mdi-database-search\n                      </v-icon>\n                    </template>\n                  </v-data-table>\n                </v-card-text>\n              </v-tab-item>\n            </v-tabs-items>\n          </div>\n        </v-card>\n      </v-col>\n    </v-row>\n    <!--- Dialog -->\n    <BlastDialog\n      v-model=\"blastDialog\"\n      :blast-result=\"blastResult\"\n    />\n    <DetailDialog\n      v-model=\"detailDialog\"\n      :fragment=\"selectedLine['fragment']\"\n      :revcomp=\"selectedLine['rev_comp']\"\n      :breslauer=\"selectedLine['breslauer']\"\n      :santalucia=\"selectedLine['santalucia']\"\n      :cg_content=\"selectedLine['cg_content']\"\n      :homology=\"selectedLine['homology']\"\n      :position=\"selectedLine['position']\"\n    />\n  </div>\n</template>\n<script>\nimport axios from 'axios'\n\nimport SeqField from '../components/SeqField'\nimport SeqLengthField from '../components/Primer/SeqLengthField'\nimport Conditions from '../components/Primer/Conditions'\nimport BlastDialog from '../components/Primer/BlastDialog'\nimport DetailDialog from '../components/Primer/DetailDialog'\nimport FormButtons from '../components/FormButtons'\n\nexport default {\n  components: {\n    SeqField,\n    SeqLengthField,\n    Conditions,\n    FormButtons,\n    BlastDialog,\n    DetailDialog\n  },\n\n  data() {\n    return {\n      primer: {\n        input_seq: '',\n        frag_length: 22,\n        conditions: '',\n        cg_clamp: false,\n        self_comp: false\n      },\n      headers: [\n        { text: \"Fragment (5'-> 3')\", align: 'start', sortable: false, value: 'fragment' },\n        { text: 'Breslauer (℃)', value: 'breslauer', align: 'end' },\n        { text: 'CG content (%)', value: 'cg_content', align: 'end' },\n        { text: 'Homology (nos)', value: 'homology', align: 'end' },\n        { text: 'Actions', value: 'actions', sortable: false, align: 'center' }\n      ],\n      visual: false,\n      blastResult: '',\n      blastDialog: false,\n      editResult: '',\n      editDialog: false,\n      detailDialog: false,\n      selectedLine: '',\n\n      search: '',\n      isRemove: true,\n      loading: false,\n      disabled: false,\n\n      tab: false,\n      forward: '',\n      reverse: '',\n      tabDisabled: false\n    }\n  },\n  methods: {\n    submit: function () {\n      if (this.primer.input_seq.length !== 0 && this.primer.frag_length.length !== 0) {\n        if (this.isRemove && this.primer.conditions.length === 0) {\n          this.primer.conditions =\n            'breslauer >= 57; breslauer < 65; cg_content <= 45; cg_content > 35; homology <= 15; homology > 0;'\n        }\n        this.loading = true\n        axios.post('/api/primer', this.primer)\n          .then(response => {\n            this.loading = false\n            this.visual = true\n            const result = response.data\n            if (Object.keys(result).length === 2) {\n              this.forward = result['forward']\n              this.reverse = result['reverse']\n              this.tabDisabled = false\n            } else {\n              this.forward = result\n              this.tab = 'Forward'\n              this.tabDisabled = true\n            }\n          })\n          .catch(error => {\n            console.log(error.response.data)\n          })\n      } else {\n        alert('Please fill sequence and frag length form.')\n      }\n    },\n    blast(item) {\n      const data = {\n        inputSeq: item.fragment,\n        db: 'TAIR10_Whole_Genome'\n      }\n      axios.post('/api/blast', data)\n        .then(response => {\n          this.blastResult = response.data.result\n        })\n        .catch(error => {\n          console.log('Primer API Blast error:', error)\n        })\n    },\n    detailView(item) {\n      this.selectedLine = item\n      this.detailDialog = true\n    },\n    clear() {\n      this.primer.input_seq = ''\n      this.primer.frag_length = 22\n      this.primer.conditions = ''\n      this.isRemove = true\n    }\n  },\n  mounted() {\n    axios.get('/api/blast')\n      .then(response => {\n        const judge = response.data['usable']\n        if (!judge) {\n          this.disabled = true\n        }\n      })\n  }\n}\n</script>\n"]}]}